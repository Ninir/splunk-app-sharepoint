###
### Log Files
###		IIS Logs
###		ULS Logs
###
[monitor://C:\inetpub\logs\LogFiles\W3SVC*\*.log]
sourcetype=iis
index=iis
disabled=true

[monitor://C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\14\LOGS]
whitelist=.*-\d+-\d+\.log$
sourcetype=MSSharePoint:2010:ULSAudit
index=mssharepoint
queue=parsingQueue
disabled=true

###
### Scripts
###		get-networkconnections.ps1 - network latency between nodes
###
[powershell://get-networkconnections]
source=Powershell
sourcetype=MSSharePoint:2010:NetworkLatency
script=. $SplunkHome\etc\apps\TA-SharePoint2010\bin\get-networkconnections.ps1
schedule=0 */5 * ? * *
index=mssharepoint
queue=parsingQueue
disabled=true

###
### Windows Host Inventory and Services
###
[WinHostMon://computer]
type=computer
interval=86400
index=mssharepoint
disabled=true

[WinHostMon://operatingSystem]
type=operatingSystem
interval=86400
index=mssharepoint
disabled=true

[WinHostMon://processor]
type=processor
interval=86400
index=mssharepoint
disabled=true

[WinHostMon://disk]
type=disk
interval=86400
index=mssharepoint
disabled=true

[WinHostMon://networkAdapter]
type=networkAdapter
interval=86400
index=mssharepoint
disabled=true

[WinHostMon://service]
type=service
interval=120
index=mssharepoint
disabled=true

###
### Registry 
###		- Version of the SharePoint Web Service Extensions installed
###		- IP addresses for this host
###
[WinRegMon://SharedTools]
hive=HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Shared Tools\\Web Server Extensions\\?.*
type=delete|set|create
baseline=1
baseline_interval=3600
index=mssharepoint
disabled=true

[WinRegMon://IPAddresses]
hive=HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters\\Interfaces\\?.*
type=delete|set|create
baseline=1
baseline_interval=3600
index=mssharepoint
disabled=true

###
###	Windows Event Logs (SharePoint Specific)
###
[WinEventLog:Microsoft-SharePoint Products-Shared/Operational]
source=WinEventLog:SharePoint
sourcetype=WinEventLog:SharePoint-Operational
index=mssharepoint
disabled=true

[WinEventLog:Microsoft-SharePoint Products-Shared/Audit]
source=WinEventLog:SharePoint
sourcetype=WinEventLog:SharePoint-Audit
index=mssharepoint
disabled=true

###
### Performance
###		Basics (CPU, Memory, Disk, etc.)
###		SharePoint Specific
###		IIS Specific
###
[perfmon://SPProcessor]
counters = % Processor Time;% User Time
instances = _Total
interval = 10
object = Processor
index = perfmon
disabled = false

[perfmon://SPlogicalDisk]
counters = *
instances = *
interval = 10
object = LogicalDisk
index = perfmon
disabled = false

[perfmon://SPMemory]
counters = % Committed Bytes In Use;Available MBytes;Committed Bytes
interval = 10
object = Memory
index = perfmon
disabled = false

[perfmon://SPNetwork]
counters = Bytes Received/sec;Bytes Sent/sec;Bytes Total/sec;Current Bandwidth
instances = *
interval = 10
object = Network Interface
index = perfmon
disabled = false

[perfmon://SPDiskCache]
interval = 10
object = SharePoint Disk-Based Cache
counters = *
disabled = false
index = perfmon

[perfmon://SPFoundation]
interval = 10
object = SharePoint Foundation
counters = *
instances = *
disabled = false
index = perfmon

[perfmon://SPBDCMetaData]
interval = 10
object = SharePoint Foundation BDC Metadata
counters = *
disabled = false
index = perfmon

[perfmon://SPBDCOnline]
interval = 10
object = SharePoint Foundation BDC Online
counters = *
disabled = false
index = perfmon

[perfmon://IISCLRData]
interval=5
object=.NET CLR Data
counters=*
instances=*
disabled=true
index=perfmon

[perfmon://IISCLRExceptions]
interval=5
object=.NET CLR Exceptions
counters=*
instances=*
disabled=true
index=perfmon

[perfmon://APP_POOL_WAS]
interval=5
object=APP_POOL_WAS
counters=*
instances=*
disabled=true
index=perfmon

[perfmon://ASPNET]
interval=5
object=ASP.NET
counters=*
instances=*
disabled=true
index=perfmon

[perfmon://IIS_W3SVC_W3WP]
interval=5
object=W3SVC_W3WP
counters=*
instances=*
disabled=true
index=perfmon

[perfmon://IIS_WAS_W3WP]
interval=5
object=WAS_W3WP
counters=*
instances=*
disabled=true
index=perfmon

[perfmon://IIS_Web_Service]
interval=5
object=Web Service
counters=*
instances=*
disabled=true
index=perfmon
